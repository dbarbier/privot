> restart:
> Digits:=100:
> phi:=proc(x,mu,sigma)
>        1/(sqrt(2*Pi)*sigma^2)*exp(-(x-mu)^2/(2*sigma^2))
> end:
> PHI:=proc(x,mu,sigma)
>        int(phi(t,mu,sigma),t=-infinity..x)
> end:
> LOGN:=proc(x,mu,sigma)
>         PHI((ln(x)-mu)/sigma,0,1)
> end:
> logn:=proc(x,mu,sigma)
>         diff(LOGN(x,mu,sigma),x)
> end:
> logn(x,mu,sigma);

                                            2
                               (-ln(x) + mu)    1/2
                      exp(-1/2 --------------) 2
                                        2
                                   sigma
                  1/2 -----------------------------
                                1/2
                              Pi    x sigma

> sol:=allvalues(solve({exp(1/2*sigma_l^2+mu_l)=mu,exp(1/2*sigma_l^2+mu_
> l)*sqrt(exp(1/2*sigma_l^2)-1)=sigma},{mu_l,sigma_l}));
> Pdef:=(Int(
>         Int(
>           Int(
>             Int(
>               Int(
>                 int(
>                   (logn(x1,mu1,sigma1)*
>                   logn(x2,mu1,sigma2)*
>                   logn(x3,mu1,sigma3)*
>                   logn(x4,mu1,sigma4)*
>                   logn(x5,mu1,sigma5)*
>                   logn(x6,mu1,sigma6)),
>                   x1=a..2*x2+2*x3+1*x4-5*x5-5*x6),
>                 x2=a..b),
>               x3=a..b),
>             x4=a..b),
>           x5=a..b),
>         x6=a..b));
> 

                      3
                    mu               1/2    %1  1/2
  sol := {mu_l = ln(---), sigma_l = 2    ln(---)   },
                    %1                        2
                                            mu

                     3
                   mu                1/2    %1  1/2
        {mu_l = ln(---), sigma_l = -2    ln(---)   }
                   %1                         2
                                            mu

          2        2
  %1 := mu  + sigma


             b    b    b    b    b            /
            /    /    /    /    /             |
           |    |    |    |    |              |
           |    |    |    |    |          1/2 |
  Pdef :=  |    |    |    |    |   -1/16 2    |
           |    |    |    |    |              |
           |    |    |    |    |              \
          /    /    /    /    /
            a    a    a    a    a

                 1/2
                2    (-ln(2 x2 + 2 x3 + x4 - 5 x5 - 5 x6) + mu1)
        erf(1/2 ------------------------------------------------)
                                     sigma1

                            /  mu1  \
                            |-------|
                       2    |      2|            2
                 ln(x2)     \sigma2 /         mu1
        exp(-1/2 -------) x2          exp(- ---------)
                       2                            2
                 sigma2                     2 sigma2

                            /  mu1  \
                            |-------|
                       2    |      2|            2
                 ln(x3)     \sigma3 /         mu1
        exp(-1/2 -------) x3          exp(- ---------)
                       2                            2
                 sigma3                     2 sigma3

                            /  mu1  \
                            |-------|
                       2    |      2|            2
                 ln(x4)     \sigma4 /         mu1
        exp(-1/2 -------) x4          exp(- ---------)
                       2                            2
                 sigma4                     2 sigma4

                            /  mu1  \
                            |-------|
                       2    |      2|            2
                 ln(x5)     \sigma5 /         mu1
        exp(-1/2 -------) x5          exp(- ---------)
                       2                            2
                 sigma5                     2 sigma5

                            /  mu1  \
                            |-------|
                       2    |      2|            2
                 ln(x6)     \sigma6 /         mu1
        exp(-1/2 -------) x6          exp(- ---------) +
                       2                            2
                 sigma6                     2 sigma6

                                2                          2
                 (-ln(x2) + mu1)            (-ln(x3) + mu1)
        exp(-1/2 ----------------) exp(-1/2 ----------------)
                           2                          2
                     sigma2                     sigma3

                                2                         2
                 (-ln(x4) + mu1)            (ln(x5) - mu1)
        exp(-1/2 ----------------) exp(-1/2 ---------------)
                           2                          2
                     sigma4                     sigma5

                                                             \
                                                             |
                               2           1/2               |
                 (ln(x6) - mu1)           2    (ln(a) - mu1) |   /
        exp(-1/2 ---------------) erf(1/2 ------------------)|  /  (
                           2                    sigma1       | /
                     sigma6                                  /

          5/2
        Pi    x2 sigma2 x3 sigma3 x4 sigma4 x5 sigma5 x6 sigma6) dx2

        dx3 dx4 dx5 dx6

> mu1:=evalf(subs(sol[1],mu=120.,sigma=12.,mu_l));
> sigma1:=evalf(subs(sol[1],mu=120.,sigma=12.,sigma_l));
> mu2:=evalf(subs(sol[1],mu=120.,sigma=12.,mu_l));
> sigma2:=evalf(subs(sol[1],mu=120.,sigma=12.,sigma_l));
> mu3:=evalf(subs(sol[1],mu=120.,sigma=12.,mu_l));
> sigma3:=evalf(subs(sol[1],mu=120.,sigma=12.,sigma_l));
> mu4:=evalf(subs(sol[1],mu=120.,sigma=12.,mu_l));
> sigma4:=evalf(subs(sol[1],mu=120.,sigma=12.,sigma_l));
> mu5:=evalf(subs(sol[1],mu=50.,sigma=15.,mu_l));
> sigma5:=evalf(subs(sol[1],mu=50.,sigma=15.,sigma_l));
> mu6:=evalf(subs(sol[1],mu=40.,sigma=12.,mu_l));
> sigma6:=evalf(subs(sol[1],mu=40.,sigma=12.,sigma_l));
> 

  mu1 := 4.7775414119288779113994855769789823067109127052319741381\
        44772693824987482587711967288653917333407601


  sigma1 := 0.1410697051330871879214552674498069395758092476576579\
        899902831751455884562198688382091941930892235602


  mu2 := 4.7775414119288779113994855769789823067109127052319741381\
        44772693824987482587711967288653917333407601


  sigma2 := 0.1410697051330871879214552674498069395758092476576579\
        899902831751455884562198688382091941930892235602


  mu3 := 4.7775414119288779113994855769789823067109127052319741381\
        44772693824987482587711967288653917333407601


  sigma3 := 0.1410697051330871879214552674498069395758092476576579\
        899902831751455884562198688382091941930892235602


  mu4 := 4.7775414119288779113994855769789823067109127052319741381\
        44772693824987482587711967288653917333407601


  sigma4 := 0.1410697051330871879214552674498069395758092476576579\
        899902831751455884562198688382091941930892235602


  mu5 := 3.8258453091870937262774172450700786112685569366516054969\
        37758039695993532544552223594119221400521733


  sigma5 := 0.4151570696520832037879313829275223328164735995562396\
        869184678738126634215760607783031937402826765364


  mu6 := 3.6027017578728839705111221547602441078939558511035982832\
        66470167208601788776283890175711997300179498


  sigma6 := 0.4151570696520832037879313829275223328164735995562396\
        869184678738126634215760607783031937402826765364

> expand(evalf(subs(a=0.01,b=0.02,Pdef)));

     0.02    0.02    0.02    0.02
    /       /       /       /
   |       |       |       |
   |       |       |       |
   |       |       |       |      10.442252295436871873724287509255\
   |       |       |       |
   |       |       |       |
  /       /       /       /
    0.01    0.01    0.01    0.01
        0799847606333729368385638250335725322304264230375937500095\

                                    0.02
                                   /
                                  |
        7822692950/(x3 x4 x5 x6)  |      0.209367819403727254079308\
                                  |
                                 /
                                   0.01
        8776308477890822693716722917570234533863368533967377297508\

                             -804   239.06947519778992765306515798\
        462031139159560186 10     x2
        4580327628733660692987819235224986905023319023319114645867\

        4206136340524
                      erf(5.01246373570748461731923709184237430071\
        8014744766992059823175391295855140251222685918749175299060\

        818 ln(2. x2 + 2. x3 + x4 - 5. x5 - 5. x6) - 23.9472530731\
        3423398767777439914961044637536925043084044607926638250332\

        770157339528502259302684502047) exp(-25.124792701782632200\
        2665921651968783897005710725158889474952415255411061240519\

                                     2
        2076563145669721203092 ln(x2) ) exp(-25.124792701782632200\
        2665921651968783897005710725158889474952415255411061240519\

                                     2    240.06947519778992765306\
        2076563145669721203092 ln(x3) ) x3
        5157984580327628733660692987819235224986905023319023319114\

        6458674206136340524
                            exp(-25.124792701782632200266592165196\
        8783897005710725158889474952415255411061240519207656314566\

                         2    240.06947519778992765306515798458032\
        9721203092 ln(x4) ) x4
        7628733660692987819235224986905023319023319114645867420613\

        6340524
                exp(-2.9009826312914117667465412720726520887584943\
        96128413002951618288026744467924398708564869995684905612

              2    27.71912931256224562368884836550303119903872282\
        ln(x5) ) x5

        735967081421945961069445219242556850106120982371961892
                                                               exp(-
        2.90098263129141176674654127207265208875849439612841300295\

                                                          2    27.\
        1618288026744467924398708564869995684905612 ln(x6) ) x6
        7191293125622456236888483655030311990387228273596708142194\

        5961069445219242556850106120982371961892
                                                 + 0.2093678194037\
        2725407930887763084778908226937167229175702345338633685339\

                                        -804   239.069475197789927\
        67377297508462031139159560731 10     x2
        6530651579845803276287336606929878192352249869050233190233\

        191146458674206136340524
                                 exp(-25.1247927017826322002665921\
        6519687838970057107251588894749524152554110612405192076563\

                              2
        145669721203092 ln(x2) ) exp(-25.1247927017826322002665921\
        6519687838970057107251588894749524152554110612405192076563\

                              2    240.069475197789927653065157984\
        145669721203092 ln(x3) ) x3
        5803276287336606929878192352249869050233190233191146458674\

        206136340524
                     exp(-25.1247927017826322002665921651968783897\
        0057107251588894749524152554110612405192076563145669721203\

                  2    240.069475197789927653065157984580327628733\
        092 ln(x4) ) x4
        6606929878192352249869050233190233191146458674206136340524

        exp(-2.900982631291411766746541272072652088758494396128413\

                                                               2
        002951618288026744467924398708564869995684905612 ln(x5) ) x5^
        27.7191293125622456236888483655030311990387228273596708142\

        1945961069445219242556850106120982371961892
                                                    exp(-2.9009826\
        3129141176674654127207265208875849439612841300295161828802\

                                                 2    27.719129312\
        6744467924398708564869995684905612 ln(x6) ) x6
        5622456236888483655030311990387228273596708142194596106944\

        5219242556850106120982371961892
                                        dx2 dx3 dx4 dx5 dx6

> 
