% Copyright (c)  2010-2013  EADS.
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation;
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts.  A copy of the license is included in the section entitled "GNU
% Free Documentation License".




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\section{Use Cases Guide}

This section presents the main functionalities of the module $MultivariateRandomMixture$ in their context.


The objective is to define the a random vector as a MultivariateRandomMixture, which means an affine combination of input random variables :
$$
\displaystyle   \vect{Y}=\vect{y}_0+\vect{M}\vect{X}
$$
where $\vect{y}_0\in\mathbb{R}^d$ a deterministic vector with  $d\in\{1,2,3\}$, $\vect{M}\in\mathcal{M}_{d,n}(\mathbb{R})$ a deterministic matrix
and $(X_i)_{ 1 \leq i \leq n}$ are some  \emph{independent univariate} random variables.\\


The module evaluates the probability density function of the random variable $Y$, the mean\slash variance.

It is important to note that the distribution evaluation of $Y$ needs the evaluation of the characteristic functions of the univariate $X_i$. 
Open TURNS proposes an implementation of all its univariate distributions, continuous or discrete ones. 
But only some of the them have the implementation of a specific algorithm that evaluates the characteristic function : 
it is the case of all the discrete distributions and most of (but not all) the continuous ones. 
In that case, the evaluation is performant. 
For the remaining distributions, the generic implementation might be time consuming for high arguments. \\


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Which python modules to import ?}

In order to use the functionalities described in this documentation, it is necessary to import the module 
using the following Python script~:

\begin{lstlisting}
# Load OpenTURNS to manipulate distributions
import MultivariateRandomMixture as MV
# other possibility
from MultivariateRandomMixture import *
# or
from MultivariateRandomMixture import PythonMultivariateRandomMixture
\end{lstlisting}
$openturns$ is imported into~: 
\begin{itemize}
   \item $MV.ot$ within the first use,
   \item $ot$ within the second use,
   \item Not imported within the last use-case.
\end{itemize}

We could also import $openturns$ separately to the module.


\subsection{Creation of a multivariate random mixture through the PythonMultivariateRandomMixture class} \label{MVRM}

In $MultivariateRandomMixture$, it is possible to create a python class for the manipulation of the multivariate random mixture distribution.
The multivariate random mixture is considered as an affine transformation of random vector of independant marginals. 
The parameters are:
\begin{itemize}
 \item the collection of distributions ($DistributionCollection$) which characterize the input random vector,
 \item the $Matrix$ of the affine transformation, 
 \item the constant vector ($NumericalPoint$) of the affine transformation.
\end{itemize}

The return object is a distribution which inherites from the $PythonDistribution$ class.\\
\requirements{
  \begin{description}
  \item[$\bullet$] a collection of distribution, {\itshape myCollection}
  \item[type:] a PythonDistribution
  \item[$\bullet$] a deterministic matrix of transformation, {\itshape myMatrix}
  \item[type:] a Matrix
  \item[$\bullet$] a deterministic constant vector, {\itshape myVector}
  \item[type:] a NumericalPoint
  \end{description}
}
{
  \begin{description}
  \item[$\bullet$] a PythonMultivariateRandomMixture object : {\itshape myDistribution},
  \item[type:] a PythonDistribution
  \end{description}
}
\espace

Python script for this use case:

\begin{lstlisting}
 # Create a PythonMultivariateRandomMixture
myDistribution = PythonMultivariateRandomMixture(myCollection, myMatrix, myVector)
\end{lstlisting}

\subsection{UC : Manipulation of a PythonMultivariateRandomMixture}

\subsubsection{Manipulation of the moments of the multivariate random mixture}
It is now possible to get the mean, the variance of distribution.
The distribution allows to get some realizations.\\
\requirements{
  \begin{description}
  \item[$\bullet$] None
  \end{description}
}
{
  \begin{description}
  \item[$\bullet$] the mean value : {\itshape myMean},
  \item[type:] a NumericalPoint
  \item[$\bullet$] the standard deviation value : {\itshape myStandardDeviation},
  \item[type:] a NumericalPoint
  \item[$\bullet$] the covariance matrix : {\itshape myCovarianceMatrix},
  \item[type:] a CovarianceMatrix
  \item[$\bullet$] a realization of the distribution : {\itshape myRealization},
  \item[type:] a NumericalPoint
  \item[$\bullet$] some realization of the distribution : {\itshape mySample},
  \item[type:] a NumericalSample
  \end{description}
}
\espace

Python script for this use case:

\begin{lstlisting}
# get the mean of the multivariate random distribution
myMean = myDistribution.getMean()
# get the standard deviation of the multivariate random distribution
myStandardDeviation = myDistribution.getStandardDeviation()
# get the covariance matrix of the multivariate random distribution
myCovarianceMatrix = myDistribution.getCovariance()
# get a realization of the multivariate random distribution
myRealization = myDistribution.getRealization()
# get a realization of the multivariate random distribution
mySample = myDistribution.getSample(100)
\end{lstlisting}

\subsubsection{Manipulation of density function, the realization}
It is also possible to get the characteristic function, the probability density function.

\requirements{
  \begin{description}
  \item[$\bullet$] the point of interest, {\itshape myPoint}
  \item[type:] a NumericalPoint
  \end{description}
}
{
  \begin{description}
  \item[$\bullet$] probability density value : {\itshape myPDF},
  \item[type:] a NumericalScalar
  \item[$\bullet$] the characteristic function value : {\itshape myCF},
  \item[type:] a NumericalComplex
  \end{description}
}
\espace

\begin{lstlisting}
myPoint = [0.3]
# compute the probability density value on myPoint
myPDF = myDistribution.computePDF(myPoint)
# compute the probability density value on myPoint
myCF = myDistribution.computeCharacteristicFunction(myPoint)
\end{lstlisting}
